<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			function login(){
				//获取账号
				var userName =document.getElementById("userName").value;
				//获取密码
				var psw= document.getElementById("psw").value;
				var sm=`userName=${userName}&psw=${psw}`;
				var xhr=new XMLHttpRequest();
				xhr.open("POST","http://localhost:8080/ajax/login",true);
				//POST提交时需添加请求头“Content-Type”，指定MIME类型
				xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");
				xhr.send(sm);
				//接收返回的值
				xhr.onreadystatechange=function(){
					// readyState == 4说明请求已完成
					if(xhr.readyState==4){
						if(xhr.status==200){
							if(xhr.responseText=="success"){
								alert("登录成功")
							}else{
								alert("登录失败")
							}
						}
					}
				}
			}
		</script>
	</head>
	<body>
		<div>
			<input type="text" id="userName" />
		</div>
		<div>
			<input type="text" id="psw" />
		</div>
		<div>
			<button type="button" onclick="login()">登录</button>
		</div>
	</body>
</html>
